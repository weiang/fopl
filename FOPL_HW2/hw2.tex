\documentclass[4paper,10pt]{paper}

\usepackage{xeCJK}
\usepackage{amsmath}
\setCJKmainfont{AR PL UKai CN}

\title{Homework 2}
\author{昂伟 PB11011058}
\date{ \today }

\begin{document}

\maketitle

\section*{problem 1}

$
(\lambda p.\lambda q.\lambda r.p\ q\ r)(\lambda p.\lambda q.p\ q\ r)
$
$
\rightarrow(\lambda s.\lambda t.\lambda u.s\ t\ u)(\lambda p.\lambda q.p\ q\ r)
$\\
$
\rightarrow\lambda t.\lambda u.(\lambda p.\lambda q.p\ q\ r)t\ u
$ 
$
\rightarrow\lambda t.\lambda u.(\lambda q.t\ q\ r)u\rightarrow\lambda t.\lambda u.t\ u\ r
$\\
$
\rightarrow r
$

\par If we don't rename bound variables, free variable $r$ be bound. So
rename bound variables so that all bound variables are different from
each other and different from all of the free variables.\\

\section*{problem 5}

(a)$<x+y,\sigma> \: \rightarrow \: <2+y,\sigma> \: \rightarrow<2+3,\sigma> \: \rightarrow<5,\sigma>$

(b)$<x=x+3,\sigma> \: \rightarrow \: <x=1+3,\sigma> \: \rightarrow<x=4,\sigma> \: \rightarrow \: <4,Put(\sigma,x,4)>$

(c)$<(x=3)+x,\sigma> \:\rightarrow \: <3+x,Put(\sigma,x,3)> \: \rightarrow \: <3+3,\sigma'> \: \rightarrow \: <6,\sigma'>$

 (d)$<x=(x=x+3)+(x=x+5),\sigma> \: \rightarrow \: <x=(x=1+3)+(x=x+5),\sigma> \\
	  \rightarrow <x=(x=4)+(x=x+5)\sigma>\rightarrow<x=4+(x=x+5),Put(\sigma,x,4)>\rightarrow<x=4+(x=4+5),\sigma'>\rightarrow<x=4+(x=9),\sigma'>\rightarrow<x=4+9,Put(\sigma',x,9)>\rightarrow<x=13,\sigma''>\rightarrow<13,Put(\sigma'',x,13)>
	$

\section*{problem 6}
(a) 2

(b) 4

(c) 3

\section*{problem 7}

(a) $\omega=8$

(b)\\
\begin{minipage}{.45\textwidth}
	\centering
	\textit{Activation Records}\\
	\begin{tabular}{l|l|c}
	\hline
	(1) 		& access link 	& (0) 	\\ 	\cline{2-3}
     		& f 				& $\cdot$	\\  	\cline{2-3}
    			& h 				& .		\\
	\hline
	(2)		& access link 	& ( ) 	\\	\cline{2-3}
   			& x				& 	 	\\
	\hline
	(3) 	f(1)	& access link 	& ( )		\\ 	\cline{2-3}
 			& x				&		\\	\cline{2-3}
 	\hline 
 	(4) 		&	access link & ( )	\\	\cline{2-3}
 			& 	h			& .		\\	\cline{2-3}
 	\hline
 	(5) 		& 	access link & ( )		\\	\cline{2-3}
 			& 	w			& 		\\	\cline{2-3}
 	\hline
 	(6) h(3)& access link 	& ( )		\\	\cline{2-3}
 			& z 						\\	\cline{2-3}
 	\hline
 	(7) f(3)& access link 	& ( )		\\	\cline{2-3}
 			& y						\\	\cline{2-3}
	\hline
	\end{tabular}
\end{minipage}
\makeatletter\
\begin{minipage}{.3\textwidth}
\centering
\textit{Closures}\\
<( ), $\cdot$> \\
<( ), $\cdot$> 
\end{minipage}
\makeatletter\
\begin{minipage}{.2\textwidth}
\centering
\textit{Compiled Codes}\\
$\textbar code for f \textbar $\\
$\textbar code for h \textbar $
\end{minipage}

\section*{problem 8}
(a)\\
\begin{minipage}{.45\textwidth}
\centering
\textit{Activation Records}
\begin{tabular}{l|l|c}
%\caption{Activation Records}
\hline
 (1) 	& access link 	& (0) 	\\ \cline{2-3}
     	& f 				& .		\\  	 \cline{2-3}
    		& h 				& .		\\
\hline
(2) h(2) 	& access link 	& ( ) \\ \cline{2-3}
   			& x				& 	 \\
\hline
(3) 	f(1) 	& access link 	& ( )		\\ \cline{2-3}
 			& x				&		\\
\hline

\end{tabular}
\end{minipage}
\makeatletter\
\begin{minipage}{.3\textwidth}
\centering
\textit{Closures}\\
A<( ), $\cdot$>\\
B<( ), $\cdot$>
%\caption{hello}
\end{minipage}  
\makeatletter\
\begin{minipage}{.2\textwidth}
\centering
\textit{Compiled Codes}
$\textbar function, line 1 \textbar$\\
$\textbar function, line 3 \textbar$
\end{minipage}

(b) $B$

(c) 第二行之后调用$h(2)$会调用$f_{1}(2)$然后再调用$f_{1}(1)$;而第四行调用$h(2)$时,$f$已经被修改并指向$f_{3}()$,所以会先调用$f_{1}(2)$再调用$f_{3}(1)$.

(d)\\
\begin{minipage}{.45\textwidth}
\centering
\textit{Activation Records}
\begin{tabular}{l|l|c}
%\caption{Activation Records}
\hline
 (1) 	& access link 	& (0) 	\\ \cline{2-3}
     	& f 				& .		\\  	 \cline{2-3}
    		& h 				& .		\\
\hline
(2) h(2) 	& access link 	& ( ) \\ \cline{2-3}
   			& x				& 	 \\
\hline
(3) 	g(1) 	& access link 	& ( )		\\ \cline{2-3}
 			& x				&		\\
\hline

\end{tabular}
\end{minipage}
\makeatletter\
\begin{minipage}{.3\textwidth}
\centering
\textit{Closures}\\
A<( ), $\cdot$>\\
B<( ), $\cdot$>
%\caption{hello}
\end{minipage}  
\makeatletter
\begin{minipage}{.2\textwidth}
\centering
\textit{Compiled Codes}
$|function, line 1|$\\
$|function, line 3|$
\end{minipage}


(e)$h(2)=2$.先调用$g(2)$再调用$g(1)$.

\end{document}
